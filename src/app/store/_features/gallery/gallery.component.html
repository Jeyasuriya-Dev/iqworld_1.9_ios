<h1 class="text-center">Gallery</h1>
<div class="row mt-1">
    <div class="col-md-3 col-sm-6 col-12">
        <mat-form-field style="width: 100%;">
            <mat-label>Choose Tag Name</mat-label>
            <mat-select #selectTag multiple [(ngModel)]="selectedTags">
                <mat-form-field class="filter-input"
                    style="position: sticky; top: 0px; background: white; z-index: 1000000; width: 100% !important;">
                    <input type="text" #tagFilterInput matInput (input)="filterTags($event.target.value)"
                        placeholder="Search...">
                </mat-form-field>
                <div class="select-all">
                    <mat-checkbox [(ngModel)]="allTagsSelected" [ngModelOptions]="{standalone: true}"
                        (change)="toggleAllTagSelection()">Select All</mat-checkbox>
                </div>
                <mat-option (click)="tagOptionClick()" *ngFor="let tag of filteredTagList" [value]="tag?.id">
                    {{tag?.tagname | titlecase }}
                </mat-option>
            </mat-select>
        </mat-form-field>
    </div>
    <div class="col-md-3 col-sm-6 col-12">
        <mat-form-field style="width: 100%;">
            <mat-label>Choose Brand Name</mat-label>
            <mat-select #selectbrand multiple [(ngModel)]="selectedBrands">
                <mat-form-field class="filter-input"
                    style="position: sticky; top: 0px; background: white; z-index: 1000000; width: 100% !important;">
                    <input type="text" #brandFilterInput matInput (input)="filterlistBrands($event.target.value)"
                        placeholder="Search...">
                </mat-form-field>
                <div class="select-all">
                    <mat-checkbox [(ngModel)]="allBrandSelected" [ngModelOptions]="{standalone: true}"
                        (change)="toggleAllBrandListSelection()">Select All</mat-checkbox>
                </div>
                <mat-option (click)="brandFilterOptionClick()" *ngFor="let brand of filteredBrandList"
                    [value]="brand?.id">
                    {{brand?.name | titlecase }}
                </mat-option>
            </mat-select>
        </mat-form-field>
    </div>
    <div class="col-md-3 col-sm-6 col-12">
        <mat-form-field style="width: 100%;">
            <mat-label>Choose File Lype</mat-label>
            <mat-select [(ngModel)]="fileType">
                <mat-option (click)="mediaOptionClick(obj)" *ngFor="let obj of mediaList" [value]="obj?.name">
                    {{obj?.name | titlecase }}
                </mat-option>
            </mat-select>
        </mat-form-field>
    </div>

</div>
<div class="picture-grid">
    <div *ngFor="let img of galleryMedia">
        <mat-card class="grid-box">
            <mat-card-header>
                <mat-card-subtitle>{{img.filename}}</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
                <!-- {{img.mediainfo?.mediatype}} -->
                <img [src]="img.url" *ngIf="img.mediainfo?.mediatype==='image'" />
                <video controls [src]="img.url" *ngIf="img.mediainfo?.mediatype==='video'"></video>
                <app-pdf-viewer [url]="img?.url" (click)="openPdf(img?.url)"
                    *ngIf="img.mediainfo?.mediatype==='pdf'"></app-pdf-viewer>
            </mat-card-content>
            <mat-card-actions style="display: flex; justify-content: end; ">
                <button mat-icon-button (click)="downloadFile(img)"><mat-icon> <i class="fa fa-download"
                            style="font-size: small; color: rgb(245, 101, 101);" aria-hidden="true"></i>
                    </mat-icon> </button>
            </mat-card-actions>
        </mat-card>
    </div>
</div>